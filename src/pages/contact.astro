---
import Layout from '../layouts/Layout.astro';
import PlanetNav from '../components/PlanetNav';
import MagicalHoverCard from '../components/MagicalHoverCard';
import SocialCard from '../components/SocialCard';
import MagicalText from '../components/MagicalText';

// Generate many stars for starfield
const generateStarField = () => {
  const stars = [];
  for (let i = 0; i < 200; i++) {
    const x = Math.random() * 100;
    const y = Math.random() * 100;
    const size = Math.random() * 2 + 0.5;
    const opacity = Math.random() * 0.5 + 0.3;
    stars.push(`radial-gradient(${size}px ${size}px at ${x}% ${y}%, rgba(255, 255, 255, ${opacity}), transparent)`);
  }
  return stars.join(', ');
};

const planetColor = '#4B70DD'; // Neptune
const planetColorRgb = '75, 112, 221';

const socialLinks = [
  {
    name: 'LinkedIn',
    url: 'https://www.linkedin.com/in/alex-zheng-b34bab291/',
    icon: 'linkedin',
    color: '#0077B5'
  },
  {
    name: 'GitHub',
    url: 'https://github.com/molocyxu',
    icon: 'github',
    color: '#FFFFFF'
  },
  {
    name: 'Instagram',
    url: 'http://instagram.com/zhalex414',
    icon: 'instagram',
    color: '#E4405F'
  },
  {
    name: 'Discord',
    url: null,
    text: '@weairdcow',
    icon: 'discord',
    color: '#5865F2'
  },
  {
    name: 'Business Inquiries',
    url: 'mailto:alexzheng414@gmail.com',
    icon: 'email',
    color: '#4B70DD'
  }
];

---

<Layout title="contact">
  <div class="min-h-screen relative overflow-hidden" style="background: #000000;">
    <!-- Star background - many stars -->
    <div class="absolute inset-0" style={`background-image: ${generateStarField()}; background-size: 100% 100%;`}></div>
    <!-- Neptune color tint -->
    <div class="absolute inset-0 opacity-15" style={`background: radial-gradient(ellipse at center, rgba(${planetColorRgb}, 0.2), rgba(${planetColorRgb}, 0.05) 50%, transparent 80%);`}></div>
    <PlanetNav client:load />
    <div class="container mx-auto px-8 py-24 relative z-10">
      <div class="max-w-6xl mx-auto animate-fade-in">
        <div class="border-l-4 pl-6 mb-8" style="border-color: rgba(75, 112, 221, 0.4);">
          <h1 class="text-3xl font-medium mb-4 lowercase tracking-tight">
            <MagicalText text="contact" color={planetColor} colorRgb={planetColorRgb} client:load />
          </h1>
          <div class="h-px w-24 mb-6" style="background: linear-gradient(to right, rgba(75, 112, 221, 0.6), transparent);"></div>
        </div>
        
        <!-- Social Links Grid - First Row -->
        <div id="cards" class="grid grid-cols-1 md:grid-cols-6 gap-6 mb-6">
          {socialLinks.slice(0, 3).map((link, index) => (
            <MagicalHoverCard
              key={link.name}
              glowColor={`rgba(${planetColorRgb}, 0.5)`}
              glowRadius={900}
              glowOpacity={1.0}
              transitionDuration={0.25}
              client:load
              className="md:col-span-2"
            >
              <SocialCard link={link} planetColorRgb={planetColorRgb} />
            </MagicalHoverCard>
          ))}
        </div>
        
        <!-- Second Row - 2 boxes (staggered: starting at 1.5 and 2.5) -->
        <div id="cards" class="grid grid-cols-1 md:grid-cols-6 gap-6">
          {/* Empty column to offset */}
          <div class="hidden md:block"></div>
          <MagicalHoverCard
            key={socialLinks[3].name}
            glowColor={`rgba(${planetColorRgb}, 0.5)`}
            glowRadius={900}
            glowOpacity={1.0}
            transitionDuration={0.25}
            client:load
            className="md:col-span-2"
          >
            <SocialCard link={socialLinks[3]} planetColorRgb={planetColorRgb} />
          </MagicalHoverCard>
          <MagicalHoverCard
            key={socialLinks[4].name}
            glowColor={`rgba(${planetColorRgb}, 0.5)`}
            glowRadius={900}
            glowOpacity={1.0}
            transitionDuration={0.25}
            client:load
            className="md:col-span-2"
          >
            <SocialCard link={socialLinks[4]} planetColorRgb={planetColorRgb} />
          </MagicalHoverCard>
          {/* Empty column to balance */}
          <div class="hidden md:block"></div>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .animate-fade-in {
    animation: fade-in 0.8s ease-out;
  }
  
  /* Smooth hover transitions for cards */
  #cards a {
    text-decoration: none;
  }
  
  #cards a:hover {
    transform: translateY(-2px);
  }
  
  #cards > div {
    transition: transform 0.3s ease-out;
  }
</style>
